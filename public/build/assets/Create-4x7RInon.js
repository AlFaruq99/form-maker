import{Z as b,i as k,d as x,e as a,o as r,c,a as g,w as _,F as v,b as n,n as d,j as u,f as i,h as f,x as F}from"./app-iyDdm6PS.js";import{A as H}from"./AuthenticatedLayout-Ra-BC9ZO.js";import B from"./CreateForm-0tUGAPIr.js";import S from"./CreateResponse-6-DCpkEr.js";import{_ as V}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ApplicationLogo-knvH4i0C.js";import"./ResponsiveNavLink-xZf5GoyC.js";import"./Toast-krnLCDzC.js";const L={components:{AuthenticatedLayout:H,Head:b,Link:k,CreateForm:B,CreateResponse:S},props:{defaultImage:String},data(){return{title:"Draf Formulir",content:[],response:"",page:0,backgroundStyle:{background:`url(${this.defaultImage})`,"background-size":"cover"},imageFile:null,description:""}},methods:{imageChangeHandler(o){const e=o.target.files[0];this.imageFile=e;const l=new FileReader;var m=this.backgroundStyle;l.onload=function(t){m.background=`url(${t.target.result})`},l.readAsDataURL(e)},async simpanHandler(){try{const o=new FormData;o.append("message",this.response),o.append("description",this.description),o.append("title",this.title),o.append("content",JSON.stringify(this.content)),o.append("image_background",this.imageFile),(await x.post(route("client.form.create"),o,{headers:{"Content-Type":"multipart/form-data"}})).status==200&&(window.location.href=route("client.form.index"))}catch(o){console.log(o)}}}},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},z={class:"bg-white shadow-lg py-12 border card overflow-hidden p-6 grid grid-cols-1 gap-6"},A={class:"steps"},D={class:"grid grid-flow-row grid-cols-2 gap-4"},N=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 64 64"},[n("path",{fill:"currentColor",d:"M32 2C15.432 2 2 15.432 2 32c0 16.568 13.432 30 30 30s30-13.432 30-30C62 15.432 48.568 2 32 2m17 35.428H30.307V48L15 32l15.307-16v11.143H49z"})],-1),j=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 64 64"},[n("path",{fill:"currentColor",d:"M32 2C15.432 2 2 15.432 2 32c0 16.568 13.432 30 30 30s30-13.432 30-30C62 15.432 48.568 2 32 2m1.693 46V37.428H15V27.143h18.693V16L49 32z"})],-1);function I(o,e,l,m,t,p){const C=a("Head"),h=a("CreateForm"),w=a("CreateResponse"),y=a("AuthenticatedLayout");return r(),c(v,null,[g(C,{title:"Buat Form"}),g(y,null,{default:_(()=>[n("div",{class:"py-12 min-h-screen",style:F(t.backgroundStyle)},[n("div",R,[n("div",z,[n("ul",A,[n("li",{class:d(["step",{"step-primary":t.page>=0}])},"Buat formulir",2),n("li",{class:d(["step",{"step-primary":t.page>=1}])},"Pesan tanggapan",2)]),t.page==0?(r(),u(h,{key:0,onChangeBackground:e[0]||(e[0]=s=>{p.imageChangeHandler(s)}),onChangeDescription:e[1]||(e[1]=s=>{t.description=s}),onContentChange:e[2]||(e[2]=s=>{t.content=s})})):i("",!0),t.page==1?(r(),u(w,{key:1,content:t.content,onResponseChange:e[3]||(e[3]=s=>{this.response=s})},null,8,["content"])):i("",!0),n("div",D,[n("button",{class:"btn btn-primary",onClick:e[4]||(e[4]=()=>{t.page>0&&(t.page=t.page-1)})},[N,f(" Kembali ")]),t.page<1?(r(),c("button",{key:0,class:"btn btn-primary",onClick:e[5]||(e[5]=()=>{t.page<1&&(t.page+=1)})},[f(" Selanjutnya "),j])):i("",!0),t.page==1?(r(),c("button",{key:1,onClick:e[6]||(e[6]=(...s)=>p.simpanHandler&&p.simpanHandler(...s)),class:"btn btn-primary"}," Simpan ")):i("",!0)])])])],4)]),_:1})],64)}const Z=V(L,[["render",I]]);export{Z as default};
