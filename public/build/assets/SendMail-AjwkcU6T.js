import{d as g,e as d,o as u,j as p,w as m,b as e,h as c,g as n,v as i,f as w}from"./app-dQuZY2tj.js";import _ from"./Layout-4Rc_-RXH.js";import{B as b}from"./BottomPopUp-ZwL-SYU7.js";import{_ as v}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./AuthenticatedLayoutAdmin-JSm_vnRx.js";import"./ResponsiveNavLink-B9JFkGU9.js";import"./AuthenticatedLayout-WGHEf-f9.js";import"./ApplicationLogo-ZPTQHdWH.js";import"./Toast-x1qd6cyF.js";const k={components:{LayoutMailVue:_,BottomPopUp:b},props:{data:Array,file_path:String,userRole:String},data(){return{emailTo:"",subject:"",content:"",state:"init",statusMessage:""}},watch:{state(a){a=="loading"?this.statusMessage='<svg xmlns="http://www.w3.org/2000/svg" class="w-6 text-blue-500" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="2 4" stroke-dashoffset="6" d="M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3"><animate attributeName="stroke-dashoffset" dur="0.6s" repeatCount="indefinite" values="6;0"/></path><path stroke-dasharray="30" stroke-dashoffset="30" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.1s" dur="0.3s" values="30;0"/></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M12 16v-7.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.2s" values="10;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 8.5l3.5 3.5M12 8.5l-3.5 3.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.7s" dur="0.2s" values="6;0"/></path></g></svg>Loading':a=="error"?this.statusMessage='<svg xmlns="http://www.w3.org/2000/svg" class="w-6 text-red-500" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m-1-4h2V7h-2zm1 9q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22"/></svg>Error':this.statusMessage=null}},methods:{async postMailHandler(){let a;switch(this.userRole){case"admin":a=route("panel.mail.sendInvoice");break}const t=new FormData;t.append("id",this.data.id),t.append("from_name",this.data.d_company_name),t.append("from_email",this.data.d_email),t.append("recipient",this.emailTo),t.append("subject",this.subject),t.append("content",this.content);try{let r;r=await g.post(a,t),this.state="loading",setTimeout(()=>{this.state="init"},3e3)}catch(r){this.state="error",setTimeout(()=>{this.state="init"},3e3),console.log(r)}}}},M={class:"grid grid-cols-1 gap-6 bg-white card p-6 m-6"},x=e("span",null,"Kirim Email",-1),T=e("hr",null,null,-1),y={class:"input input-bordered flex items-center gap-2 max-w-sm"},q={class:"form-group w-full"},C={class:"form-group w-full"},B={class:"button-container"},V=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14L21 3m0 0l-6.5 18a.55.55 0 0 1-1 0L10 14l-7-3.5a.55.55 0 0 1 0-1z"})],-1),j=["innerHTML"];function L(a,t,r,N,s,l){const h=d("BottomPopUp"),f=d("LayoutMailVue");return u(),p(f,{"user-role":r.userRole},{default:m(()=>[e("div",M,[x,T,e("label",y,[c(" Kepada "),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.emailTo=o),type:"text",class:"grow outline-none border-none focus:border-none focus:outline-none",placeholder:"daisy@site.com"},null,512),[[i,s.emailTo]])]),e("div",q,[n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.subject=o),type:"text",class:"input input-bordered w-full",placeholder:"Subjek"},null,512),[[i,s.subject]])]),e("div",C,[n(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.content=o),class:"textarea w-full bg-neutral-50",id:"",cols:"30",rows:"10",placeholder:"Konten"},null,512),[[i,s.content]])]),e("div",B,[e("button",{onClick:t[3]||(t[3]=(...o)=>l.postMailHandler&&l.postMailHandler(...o)),class:"btn btn-primary"},[V,c(" Kirim ")])])]),s.state!="init"?(u(),p(h,{key:0},{default:m(()=>[e("div",{innerHTML:s.statusMessage},null,8,j)]),_:1})):w("",!0)]),_:1},8,["user-role"])}const A=v(k,[["render",L]]);export{A as default};
