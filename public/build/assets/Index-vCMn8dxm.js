import{d as g,e as l,o as i,c as r,a as d,w as _,F as f,b as e,g as o,v as u,m as p,h as k}from"./app-dDriXnH2.js";import{A as w}from"./AuthenticatedLayout-liVQecJL.js";import{T as b}from"./Toast-E8O-4UFJ.js";import{_ as x}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ApplicationLogo-RTglNOnI.js";import"./ResponsiveNavLink-HzoT62p8.js";const y={components:{AuthenticatedLayout:w,ToastVue:b},props:{accessTokenParam:String,instanceIdParam:String},data(){return{accessToken:null,instanceId:null,status:"idle",error:Object}},mounted(){this.accessToken=this.accessTokenParam,this.instanceId=this.instanceIdParam},watch:{error(a){console.log(a)}},methods:{async tautkanHandler(){try{this.status="loading",setTimeout(async()=>{const a=await g.get(route("client.wa.setWebhook",{_query:{access_token:this.accessToken,instance_id:this.instanceId}})).then(s=>{this.status="idle",this.$refs.toast.show("success","Berhasil menyambungkan aplikasi","anda dapat menggunakan pesan whatsapp pada web ini"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}).catch(s=>{this.status="idle",this.error={message:s.response.data.message},this.$refs.toast.show("error","Gagal menyambungkan aplikasi",s.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)})},3e3)}catch(a){this.$refs.toast.show("error","Gagal menyambungkan aplikasi",a.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)}}}},v={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},I=e("p",{class:"font-semibold text-lg"},"Whatsapp",-1),C={class:"card bg-white p-6 grid grid-cols-1 gap-4"},L={class:"form-group container w-full grid grid-cols-1 gap-2"},B=e("label",{for:"accessToken",class:"text-sm font-semibold"},"Access Token",-1),N={class:"form-group container w-full grid grid-cols-1 gap-2"},S=e("label",{for:"instanceId",class:"text-sm font-semibold"},"Instance Id",-1),V={xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},A=e("path",{fill:"currentColor",d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 0 0-7.071-7.071L9.878 7.05L8.464 5.636l1.414-1.414a7 7 0 0 1 9.9 9.9zm-2.829 2.828l-1.414 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 0 0 7.07 7.071l1.415-1.414zm-.707-10.607l1.415 1.415l-7.072 7.07l-1.414-1.414z"},null,-1),H=[A],M={xmlns:"http://www.w3.org/2000/svg",class:"w-8",viewBox:"0 0 24 24"},P=e("circle",{cx:"18",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),z=e("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),W=e("circle",{cx:"6",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),F=[P,z,W];function G(a,s,U,$,t,c){const m=l("Head"),h=l("AuthenticatedLayout");return i(),r(f,null,[d(m,{title:"Layanan Whatsapp"}),d(h,null,{default:_(()=>[e("div",v,[e("div",T,[I,e("div",C,[e("div",L,[B,o(e("input",{id:"accessToken","onUpdate:modelValue":s[0]||(s[0]=n=>t.accessToken=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,t.accessToken]])]),e("div",N,[S,o(e("input",{id:"instanceId","onUpdate:modelValue":s[1]||(s[1]=n=>t.instanceId=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,t.instanceId]])]),e("button",{onClick:s[2]||(s[2]=(...n)=>c.tautkanHandler&&c.tautkanHandler(...n)),class:"btn btn-primary"},[o((i(),r("svg",V,H,512)),[[p,t.status=="idle"]]),o((i(),r("svg",M,F,512)),[[p,t.status=="loading"]]),k(" Tautkan ")])])])])]),_:1})],64)}const K=x(y,[["render",G]]);export{K as default};
