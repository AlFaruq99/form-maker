import{_}from"./AuthenticatedLayoutAdmin-ItSG5WGK.js";import{d as g,e as l,o as i,c as r,a as d,w as f,F as k,b as s,g as o,v as u,m as p,h as w}from"./app-zOyMGoWU.js";import{T as b}from"./Toast-Y0rCqIJh.js";import{_ as x}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ResponsiveNavLink-zJYBqVmo.js";const T={components:{AuthenticatedLayoutAdmin:_,ToastVue:b},props:{accessTokenParam:String,instanceIdParam:String},data(){return{accessToken:null,instanceId:null,status:"idle",error:Object}},mounted(){this.accessToken=this.accessTokenParam,this.instanceId=this.instanceIdParam},watch:{error(a){console.log(a)}},methods:{async tautkanHandler(){try{this.status="loading",setTimeout(async()=>{const a=await g.get(route("panel.whatsapp.setWebhook",{_query:{access_token:this.accessToken,instance_id:this.instanceId}})).then(e=>{this.status="idle",this.$refs.toast.show("success","Berhasil menyambungkan aplikasi","anda dapat menggunakan pesan whatsapp pada web ini"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}).catch(e=>{this.status="idle",this.error={message:e.response.data.message},this.$refs.toast.show("error","Gagal menyambungkan aplikasi",e.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)})},3e3)}catch(a){this.$refs.toast.show("error","Gagal menyambungkan aplikasi",a.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)}}}},y={class:"py-12"},v={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},I=s("p",{class:"font-semibold text-lg"},"Whatsapp",-1),C={class:"card bg-white p-6 grid grid-cols-1 gap-4"},V={class:"form-group container w-full grid grid-cols-1 gap-2"},A=s("label",{for:"accessToken",class:"text-sm font-semibold"},"Access Token",-1),L={class:"form-group container w-full grid grid-cols-1 gap-2"},B=s("label",{for:"instanceId",class:"text-sm font-semibold"},"Instance Id",-1),N={xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},S=s("path",{fill:"currentColor",d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 0 0-7.071-7.071L9.878 7.05L8.464 5.636l1.414-1.414a7 7 0 0 1 9.9 9.9zm-2.829 2.828l-1.414 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 0 0 7.07 7.071l1.415-1.414zm-.707-10.607l1.415 1.415l-7.072 7.07l-1.414-1.414z"},null,-1),M=[S],P={xmlns:"http://www.w3.org/2000/svg",class:"w-8",viewBox:"0 0 24 24"},z=s("circle",{cx:"18",cy:"12",r:"0",fill:"currentColor"},[s("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),H=s("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor"},[s("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),$=s("circle",{cx:"6",cy:"12",r:"0",fill:"currentColor"},[s("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),F=[z,H,$];function G(a,e,U,W,t,c){const m=l("ToastVue"),h=l("AuthenticatedLayoutAdmin");return i(),r(k,null,[d(m,{ref:"toast"},null,512),d(h,null,{default:f(()=>[s("div",y,[s("div",v,[I,s("div",C,[s("div",V,[A,o(s("input",{id:"accessToken","onUpdate:modelValue":e[0]||(e[0]=n=>t.accessToken=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,t.accessToken]])]),s("div",L,[B,o(s("input",{id:"instanceId","onUpdate:modelValue":e[1]||(e[1]=n=>t.instanceId=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,t.instanceId]])]),s("button",{onClick:e[2]||(e[2]=(...n)=>c.tautkanHandler&&c.tautkanHandler(...n)),class:"btn btn-primary"},[o((i(),r("svg",N,M,512)),[[p,t.status=="idle"]]),o((i(),r("svg",P,F,512)),[[p,t.status=="loading"]]),w(" Tautkan ")])])])])]),_:1})],64)}const J=x(T,[["render",G]]);export{J as default};
