import{_ as k}from"./AuthenticatedLayoutAdmin-xke5gwdG.js";import{d,e as g,o as l,c as r,a as h,w as b,F as w,b as e,g as n,v as u,m,h as c}from"./app-vEnE30pf.js";import{T as x}from"./Toast-bUlkZOQF.js";import{_ as v}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ResponsiveNavLink-o8NNqzrE.js";const y={components:{AuthenticatedLayoutAdmin:k,ToastVue:x},props:{accessTokenParam:String,instanceIdParam:String},data(){return{accessToken:null,instanceId:null,mailToken:null,web:{logo:null,name:""},state:{action:"null",status:"idle"},error:Object}},mounted(){this.accessToken=this.accessTokenParam,this.instanceId=this.instanceIdParam},watch:{error(a){}},methods:{async tautkanHandler(){try{this.state={action:"wa",status:"loading"},setTimeout(async()=>{const a=await d.get(route("panel.whatsapp.setWebhook",{_query:{access_token:this.accessToken,instance_id:this.instanceId}})).then(t=>{this.state={action:"wa",status:"idle"},this.$refs.toast.show("success","Berhasil menyambungkan aplikasi","anda dapat menggunakan pesan whatsapp pada web ini"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}).catch(t=>{this.state={action:"wa",status:"idle"},this.error={message:t.response.data.message},this.$refs.toast.show("error","Gagal menyambungkan aplikasi",t.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)})},3e3)}catch(a){this.$refs.toast.show("error","Gagal menyambungkan aplikasi",a.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)}},changeLogoHandler(a){const t=a.target.files[0],p=this.$refs.imageLogoPreview;p.src=URL.createObjectURL(t),this.web.logo=t},async updateWebConfigHandler(){try{(await d.post(route("panel.config.update",{}),this.web,{headers:{"Content-Type":"multipart/form-data"}})).status==200&&await d.post(route("logout")).then(t=>{window.location.href="/login"})}catch(a){console.log(a)}},async tautkanEmailHandler(){try{this.state={action:"email",status:"loading"},setTimeout(async()=>{const a=await d.post(route("panel.mail.register"),{token:this.mailToken}).then(t=>{this.state={action:"email",status:"idle"},this.$refs.toast.show("success","Berhasil menyambungkan email","anda dapat menggunakan email pada web ini"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}).catch(t=>{this.state={action:"email",status:"idle"},this.error={message:t.response.data.message},this.$refs.toast.show("error","Gagal menyambungkan email"),setTimeout(()=>{this.$refs.toast.hide()},3e3)})},3e3)}catch{this.$refs.toast.show("error","Gagal menyambungkan email"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}}}},T={class:"py-6"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},L=e("p",{class:"font-semibold text-lg"},"Whatsapp",-1),I={class:"card bg-white p-6 grid grid-cols-1 gap-4"},A=e("p",null,[c(" Untuk mendapatkan ID dan Token silahkan mendaftar di TIBOT. Link "),e("a",{class:"link font-semibold text-blue-500",href:"https://app.tibot.biz.id"},"https://app.tibot.biz.id")],-1),M={class:"form-group container w-full grid grid-cols-1 gap-2"},H=e("label",{for:"accessToken",class:"text-sm font-semibold"},"Access Token",-1),N={class:"form-group container w-full grid grid-cols-1 gap-2"},B=e("label",{for:"instanceId",class:"text-sm font-semibold"},"Instance Id",-1),S={xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},V=e("path",{fill:"currentColor",d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 0 0-7.071-7.071L9.878 7.05L8.464 5.636l1.414-1.414a7 7 0 0 1 9.9 9.9zm-2.829 2.828l-1.414 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 0 0 7.07 7.071l1.415-1.414zm-.707-10.607l1.415 1.415l-7.072 7.07l-1.414-1.414z"},null,-1),z=[V],U={xmlns:"http://www.w3.org/2000/svg",class:"w-8",viewBox:"0 0 24 24"},W=e("circle",{cx:"18",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),P=e("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),G=e("circle",{cx:"6",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),O=[W,P,G],E={class:"py-6"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},D=e("p",{class:"font-semibold text-lg"},"Mailketing",-1),F={class:"card bg-white p-6 grid grid-cols-1 gap-4"},R=e("p",null,[c(" Untuk mendapatkan token silahkan masuk ke Mailketing. Link "),e("a",{class:"link font-semibold text-blue-500",href:"https://be.mailketing.co.id/login",target:"_blank"},"https://be.mailketing.co.id/login")],-1),q={class:"form-group container w-full grid grid-cols-1 gap-2"},Z=e("label",{for:"mailToken",class:"text-sm font-semibold"},"Access Token",-1),J={xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},K=e("path",{fill:"currentColor",d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 0 0-7.071-7.071L9.878 7.05L8.464 5.636l1.414-1.414a7 7 0 0 1 9.9 9.9zm-2.829 2.828l-1.414 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 0 0 7.07 7.071l1.415-1.414zm-.707-10.607l1.415 1.415l-7.072 7.07l-1.414-1.414z"},null,-1),Q=[K],X={xmlns:"http://www.w3.org/2000/svg",class:"w-8",viewBox:"0 0 24 24"},Y=e("circle",{cx:"18",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),$=e("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),ee=e("circle",{cx:"6",cy:"12",r:"0",fill:"currentColor"},[e("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),te=[Y,$,ee],se={class:"py-6"},ae={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},oe=e("p",{class:"font-semibold text-lg"},"Web Config",-1),ne={class:"card bg-white p-6 grid grid-cols-1 gap-4"},ie={class:"form-group container w-full grid grid-cols-1 gap-2"},le=e("label",{for:"accessToken",class:"text-sm font-semibold"},"Web Logo",-1),re={ref:"imageLogoPreview",class:"w-36",src:"#",alt:"Logo image"},ce={class:"form-group container w-full grid grid-cols-1 gap-2"},de=e("label",{for:"webName",class:"text-sm font-semibold"},"Web Name",-1),ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",viewBox:"0 0 48 48"},[e("defs",null,[e("mask",{id:"ipSCheckOne0"},[e("g",{fill:"none","stroke-linejoin":"round","stroke-width":"4"},[e("path",{fill:"#fff",stroke:"#fff",d:"M24 44a19.937 19.937 0 0 0 14.142-5.858A19.937 19.937 0 0 0 44 24a19.938 19.938 0 0 0-5.858-14.142A19.937 19.937 0 0 0 24 4A19.938 19.938 0 0 0 9.858 9.858A19.938 19.938 0 0 0 4 24a19.937 19.937 0 0 0 5.858 14.142A19.938 19.938 0 0 0 24 44Z"}),e("path",{stroke:"#000","stroke-linecap":"round",d:"m16 24l6 6l12-12"})])])]),e("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#ipSCheckOne0)"})],-1);function me(a,t,p,pe,o,i){const f=g("ToastVue"),_=g("AuthenticatedLayoutAdmin");return l(),r(w,null,[h(f,{ref:"toast"},null,512),h(_,null,{default:b(()=>[e("div",T,[e("div",C,[L,e("div",I,[A,e("div",M,[H,n(e("input",{id:"accessToken","onUpdate:modelValue":t[0]||(t[0]=s=>o.accessToken=s),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,o.accessToken]])]),e("div",N,[B,n(e("input",{id:"instanceId","onUpdate:modelValue":t[1]||(t[1]=s=>o.instanceId=s),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[u,o.instanceId]])]),e("button",{onClick:t[2]||(t[2]=(...s)=>i.tautkanHandler&&i.tautkanHandler(...s)),class:"btn btn-primary"},[n((l(),r("svg",S,z,512)),[[m,a.status=="idle"]]),n((l(),r("svg",U,O,512)),[[m,o.state.action=="wa"&&o.state.status=="loading"]]),c(" Tautkan ")])])])]),e("div",E,[e("div",j,[D,e("div",F,[R,e("div",q,[Z,n(e("input",{id:"mailToken","onUpdate:modelValue":t[3]||(t[3]=s=>o.mailToken=s),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari mailketing"},null,512),[[u,o.mailToken]])]),e("button",{onClick:t[4]||(t[4]=(...s)=>i.tautkanEmailHandler&&i.tautkanEmailHandler(...s)),class:"btn btn-primary"},[n((l(),r("svg",J,Q,512)),[[m,a.status=="idle"]]),n((l(),r("svg",X,te,512)),[[m,o.state.action=="email"&&o.state.status=="loading"]]),c(" Tautkan ")])])])]),e("div",se,[e("div",ae,[oe,e("div",ne,[e("div",ie,[le,e("img",re,null,512),e("input",{type:"file",onChange:t[5]||(t[5]=s=>i.changeLogoHandler(s)),class:"file-input file-input-bordered w-full max-w-xs"},null,32)]),e("div",ce,[de,n(e("input",{id:"webName","onUpdate:modelValue":t[6]||(t[6]=s=>o.web.name=s),type:"text",class:"input input-bordered",placeholder:"your app name"},null,512),[[u,o.web.name]])]),e("button",{onClick:t[7]||(t[7]=(...s)=>i.updateWebConfigHandler&&i.updateWebConfigHandler(...s)),class:"btn btn-outline btn-primary w-fit"},[ue,c(" Ganti ")])])])])]),_:1})],64)}const be=v(y,[["render",me]]);export{be as default};
