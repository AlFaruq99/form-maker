import{d as _,e as l,o as i,c as r,a as d,w as k,F as f,b as t,g as o,v as p,m as u,h as m}from"./app-J4YW95Gk.js";import{A as b}from"./AuthenticatedLayout-RRwp0Czz.js";import{T as w}from"./Toast-nSR5vIi3.js";import{_ as x}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ApplicationLogo-oJ-JEFDg.js";import"./ResponsiveNavLink-ADVeyUru.js";const T={components:{AuthenticatedLayout:b,ToastVue:w},props:{accessTokenParam:String,instanceIdParam:String},data(){return{accessToken:null,instanceId:null,status:"idle",error:Object}},mounted(){this.accessToken=this.accessTokenParam,this.instanceId=this.instanceIdParam},watch:{error(a){console.log(a)}},methods:{async tautkanHandler(){try{this.status="loading",setTimeout(async()=>{const a=await _.get(route("client.wa.setWebhook",{_query:{access_token:this.accessToken,instance_id:this.instanceId}})).then(e=>{this.status="idle",this.$refs.toast.show("success","Berhasil menyambungkan aplikasi","anda dapat menggunakan pesan whatsapp pada web ini"),setTimeout(()=>{this.$refs.toast.hide()},3e3)}).catch(e=>{this.status="idle",this.error={message:e.response.data.message},this.$refs.toast.show("error","Gagal menyambungkan aplikasi",e.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)})},3e3)}catch(a){this.$refs.toast.show("error","Gagal menyambungkan aplikasi",a.response.data.message),setTimeout(()=>{this.$refs.toast.hide()},3e3)}}}},y={class:"py-12"},v={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},I=t("p",{class:"font-semibold text-lg"},"Whatsapp",-1),C={class:"card bg-white p-6 grid grid-cols-1 gap-4"},L=t("p",null,[m(" Untuk mendapatkan ID dan Token silahkan mendaftar di TIBOT. Link "),t("a",{class:"link font-semibold text-blue-500",href:"https://app.tibot.biz.id"},"https://app.tibot.biz.id")],-1),B={class:"form-group container w-full grid grid-cols-1 gap-2"},N=t("label",{for:"accessToken",class:"text-sm font-semibold"},"Access Token",-1),S={class:"form-group container w-full grid grid-cols-1 gap-2"},V=t("label",{for:"instanceId",class:"text-sm font-semibold"},"Instance Id",-1),z={xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},A=t("path",{fill:"currentColor",d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 0 0-7.071-7.071L9.878 7.05L8.464 5.636l1.414-1.414a7 7 0 0 1 9.9 9.9zm-2.829 2.828l-1.414 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 0 0 7.07 7.071l1.415-1.414zm-.707-10.607l1.415 1.415l-7.072 7.07l-1.414-1.414z"},null,-1),H=[A],M={xmlns:"http://www.w3.org/2000/svg",class:"w-8",viewBox:"0 0 24 24"},P=t("circle",{cx:"18",cy:"12",r:"0",fill:"currentColor"},[t("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),U=t("circle",{cx:"12",cy:"12",r:"0",fill:"currentColor"},[t("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),W=t("circle",{cx:"6",cy:"12",r:"0",fill:"currentColor"},[t("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})],-1),D=[P,U,W];function F(a,e,G,O,s,c){const h=l("Head"),g=l("AuthenticatedLayout");return i(),r(f,null,[d(h,{title:"Layanan Whatsapp"}),d(g,null,{default:k(()=>[t("div",y,[t("div",v,[I,t("div",C,[L,t("div",B,[N,o(t("input",{id:"accessToken","onUpdate:modelValue":e[0]||(e[0]=n=>s.accessToken=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[p,s.accessToken]])]),t("div",S,[V,o(t("input",{id:"instanceId","onUpdate:modelValue":e[1]||(e[1]=n=>s.instanceId=n),type:"text",class:"input input-bordered",placeholder:"isi access token anda dari tibot"},null,512),[[p,s.instanceId]])]),t("button",{onClick:e[2]||(e[2]=(...n)=>c.tautkanHandler&&c.tautkanHandler(...n)),class:"btn btn-primary"},[o((i(),r("svg",z,H,512)),[[u,s.status=="idle"]]),o((i(),r("svg",M,D,512)),[[u,s.status=="loading"]]),m(" Tautkan ")])])])])]),_:1})],64)}const Q=x(T,[["render",F]]);export{Q as default};
