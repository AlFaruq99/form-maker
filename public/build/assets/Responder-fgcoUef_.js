import{Z as y,i as k,d as w,e as u,o as c,c as h,a as p,w as _,F as f,b as t,g as L,k as D,r as g,t as r,n as C}from"./app-vEnE30pf.js";import{A as H}from"./AuthenticatedLayout-9goVbU-0.js";import{T as M}from"./Table-7F7I5FV2.js";import{h as A}from"./moment-WSJ9un1t.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ApplicationLogo-MlIgIX4e.js";import"./ResponsiveNavLink-o8NNqzrE.js";import"./Toast-bUlkZOQF.js";const j={props:{id:Number},components:{Head:y,AuthenticatedLayout:H,TableVue:M,Link:k},data(){return{formulirData:Array,length:10}},watch:{length(){this.getReponderList()}},mounted(){this.getReponderList()},methods:{async getReponderList(l){let o;l?o=l:o=route("client.form.responderList",{id:this.id});const m=await w.get(o,{params:{length:this.length}}).then(s=>s.data).catch(s=>{console.log(s)});this.formulirData=m,this.formulirData.data=this.formulirData.data.map(s=>{const n=JSON.parse(s.answer);s.tanggal_dibuat=A(s.created_at).format("dddd, DD-MM-YYYY");var i=n.filter(a=>{if(a.tipe=="email"||a.tipe=="phone")return a});return i=i.map(a=>a.answer),s.responder_id=i.join(", "),s})},async hapusHandler(l){try{await w.delete(route("client.formAnswer.deleteAnswer",l)),this.getReponderList()}catch(o){console.log(o)}},changePageHandler(l){this.getReponderList(l)}}},R={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 gap-6"},B={class:"bg-white card overflow-hidden p-4 grid grid-cols-1 gap-4"},S={class:"container filter-container flex flex-row justify-between"},Y={class:"inline-flex space-x-2"},N=t("option",{value:"10"},"10",-1),z=["value","hidden"],E={class:"container grid grid-cols-1 gap-6"},F=t("thead",null,[t("tr",null,[t("th"),t("th",null,"Identitas Responder"),t("th",null,"Tanggal diisi"),t("th")])],-1),P={class:"inline-flex space-x-2"},U=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"})],-1),J=["onClick"],O=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})],-1),Z=[O],q={class:"w-full flex flex-row justify-between"},G={class:"join"},I=["onClick","innerHTML"],K={id:"deleteModal",class:"modal"},Q={class:"modal-box"},W=t("h3",{class:"font-bold text-lg"},"Hello!",-1),X=t("p",{class:"py-4"},"Press ESC key or click outside to close",-1),$={class:"inline-flex space-x-2 w-full justify-end"},tt=t("button",{class:"btn btn-primary",type:"button"},"Ya",-1);function et(l,o,m,s,n,i){const a=u("Head"),b=u("Link"),x=u("TableVue"),v=u("AuthenticatedLayout");return c(),h(f,null,[p(a,{title:"Manajemen User"}),p(v,null,{default:_(()=>[t("div",R,[t("div",V,[t("div",B,[t("div",S,[t("div",Y,[L(t("select",{class:"select select-bordered w-fit max-w-xs","onUpdate:modelValue":o[0]||(o[0]=e=>n.length=e)},[N,(c(),h(f,null,g(100,(e,d)=>t("option",{value:e,hidden:e%25!=0,key:d},r(e),9,z)),64))],512),[[D,n.length]])])]),t("div",E,[p(x,null,{header:_(()=>[F]),body:_(()=>[t("tbody",null,[(c(!0),h(f,null,g(n.formulirData.data,(e,d)=>(c(),h("tr",{key:d},[t("th",null,r(n.formulirData.from+d),1),t("td",null,r(e==null?void 0:e.responder_id),1),t("td",null,r(e==null?void 0:e.tanggal_dibuat),1),t("td",P,[p(b,{href:l.route("client.formAnswer.show",{form_id:e.id}),class:"btn"},{default:_(()=>[U]),_:2},1032,["href"]),t("button",{class:"btn bg-rose-600 text-white",onClick:()=>{i.hapusHandler(e.id)}},Z,8,J)])]))),128))])]),_:1}),t("div",q,[t("p",null," Show "+r(n.formulirData.from)+" - "+r(n.formulirData.to)+" form total "+r(n.formulirData.total)+" data ",1),t("div",G,[(c(!0),h(f,null,g(n.formulirData.links,(e,d)=>(c(),h("div",{key:d},[t("button",{onClick:()=>{i.changePageHandler(e.url)},class:C(["join-item btn btn-sm",{"bg-primary text-white":e.active}]),innerHTML:e.label},null,10,I)]))),128))])])])])])]),t("dialog",K,[t("div",Q,[W,X,t("div",$,[tt,t("button",{onClick:o[1]||(o[1]=()=>{l.deleteModal.closeModal()}),class:"btn bg-rose-500 text-white",type:"button"},"Tidak")])])])]),_:1})],64)}const ct=T(j,[["render",et]]);export{ct as default};
